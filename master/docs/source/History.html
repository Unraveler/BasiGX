<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>The source code</title>
  <link href="../resources/prettify/prettify.css" type="text/css" rel="stylesheet" />
  <script type="text/javascript" src="../resources/prettify/prettify.js"></script>
  <style type="text/css">
    .highlight { display: block; background-color: #ddd; }
  </style>
  <script type="text/javascript">
    function highlight() {
      document.getElementById(location.hash.replace(/#/, "")).className = "highlight";
    }
  </script>
</head>
<body onload="prettyPrint(); highlight();">
  <pre class="prettyprint lang-js">/* Copyright (c) 2018-present terrestris GmbH &amp; Co. KG
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.
 */
<span id='BasiGX-view-button-History'>/**
</span> * A history navigation button in order to interact with the HTML5 History API.
 *
 * Since the History API is supported by current browsers down to IE10 the usage
 * of this might need a polyfill
 * (like https://github.com/browserstate/history.js/) in older browsers,
 * see https://caniuse.com/#search=history for details.
 *
 * @class BasiGX.view.button.History
 */
Ext.define(&#39;BasiGX.view.button.History&#39;, {
    extend: &#39;BasiGX.view.button.Base&#39;,
    xtype: &#39;basigx-button-history&#39;,

    requires: [
        &#39;Ext.app.ViewModel&#39;
    ],

<span id='BasiGX-view-button-History-property-viewModel'>    /**
</span>     *
     */
    viewModel: {
        data: {
            tooltipBack: &#39;Zur vorigen Ansicht navigieren&#39;,
            tooltipForward: &#39;Zur n√§chsten Ansicht navigieren&#39;
        }
    },

<span id='BasiGX-view-button-History-cfg-direction'>    /**
</span>     * Direction of history navigation. Either &#39;BACK&#39; or &#39;FORWARD&#39;.
     * @cfg {String}
     */
    direction: &#39;BACK&#39;,

<span id='BasiGX-view-button-History-property-mode'>    /**
</span>     * [mode description]
     * @type {String}
     */
    mode: &#39;HISTORY&#39;,

<span id='BasiGX-view-button-History-method-initComponent'>    /**
</span>     * @private
     */
    initComponent: function() {
        var me = this;

        // check if HTML5 History API is available, otherwise disable this
        // button to prevent errors.
        // see https://caniuse.com/#search=history
        if (!Ext.supports.History) {
            me.mode = &#39;LEGACY&#39;;
            me.setDisabled(true);
            Ext.log.warn(&#39;Your browser does not support HTML5 History API. &#39; +
                &#39;Legacy mode for BasiGX.view.button.History not available&#39;);
        }

        me.callParent();

        me.on(&#39;click&#39;, me.onBtnClick);
    },

<span id='BasiGX-view-button-History-method-onBtnClick'>    /**
</span>     * Called when the button is clicked.
     * Performs the navigation action
     *
     * @param {Ext.Button} btn The history button itself
     */
    onBtnClick: function(btn) {
        var me = this;
        if (me.mode === &#39;HISTORY&#39;) {
            if (btn.direction === &#39;BACK&#39;) {
                window.history.back();
            } else if (btn.direction === &#39;FORWARD&#39;) {
                window.history.forward();
            }
        }
    }

});
</pre>
</body>
</html>
